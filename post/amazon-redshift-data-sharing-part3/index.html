<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width"><script type=application/javascript src=https://sanchitdilipjain.github.io/js/theme-mode.js></script><link rel=stylesheet href=https://sanchitdilipjain.github.io/css/frameworks.min.css><link rel=stylesheet href=https://sanchitdilipjain.github.io/css/github.min.css><link rel=stylesheet href=https://sanchitdilipjain.github.io/css/github-style.css><link rel=stylesheet href=https://sanchitdilipjain.github.io/css/light.css><link rel=stylesheet href=https://sanchitdilipjain.github.io/css/dark.css><link rel=stylesheet href=https://sanchitdilipjain.github.io/css/syntax.css><title>Permissions Management for Amazon Redshift DataShares ðŸ’¡ - Sanchit's blog</title>
<link rel=icon type=image/x-icon href=https://sanchitdilipjain.github.io/images/github.png><meta name=theme-color content="#1e2327"><meta name=description content="Never become so much of an expert that you stop gaining expertise. View life as a continuous learning experience."><meta name=robots content="noodp"><link rel=canonical href=https://sanchitdilipjain.github.io/post/amazon-redshift-data-sharing-part3/><meta name=twitter:card content="summary"><meta name=twitter:title content="Sanchit's Blog"><meta name=twitter:description content="Permissions Management for Amazon Redshift DataShares What is Amazon Redshift Data Sharing?
Amazon Redshift Data Sharing is a feature that enables Redshift cluster owners to share live data across different Amazon Redshift clusters, accounts, and regions. With data sharing, users can easily and securely share data with other Redshift users, without having to copy or move the data. What are Amazon Redshift Data Sharing Benefits?
Data sharing is a great way to improve your security and performance, as well as save money."><meta name=twitter:site content="https://sanchitdilipjain.github.io"><meta name=twitter:creator content="Sanchit Jain"><meta name=twitter:image content="https://sanchitdilipjain.github.io/images/preview.png"><meta property="og:type" content="article"><meta property="og:title" content="Sanchit's Blog"><meta property="og:description" content="Never become so much of an expert that you stop gaining expertise. View life as a continuous learning experience."><meta property="og:url" content="https://sanchitdilipjain.github.io"><meta property="og:site_name" content="Sanchit's Blog"><meta property="og:image" content="https://sanchitdilipjain.github.io/images/preview.png"><meta property="og:image:type" content="image/png"><meta name=thumbnail content="https://sanchitdilipjain.github.io/images/preview.png"><meta name=author content="Sanchit Jain"><meta property="article:published_time" content="2023-05-20 12:00:00 +0000 UTC"><script async src="https://www.googletagmanager.com/gtag/js?id=G-63LNCKX5VR"></script><script>if(navigator.doNotTrack!=="1"){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-63LNCKX5VR")}</script></head><body><style>.height-limitation{max-height:300px;overflow-y:scroll}.loader{border:4px solid #f3f3f3;border-bottom:4px solid var(--color-fg-muted);border-radius:50%;width:30px;height:30px;animation:spin 1s linear infinite;margin:0 auto}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}</style><div style=position:relative><header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on"><div class="Header-item mobile-none" style=margin-top:-4px;margin-bottom:-4px><a class=Header-link href=https://sanchitdilipjain.github.io><svg class="octicon" height="32" viewBox="0 0 16 16" width="32"><path fill-rule="evenodd" d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.013 8.013.0 0016 8c0-4.42-3.58-8-8-8z"/></svg></a></div><div class="Header-item d-md-none"><button class="Header-link btn-link js-details-target" type=button onclick='document.querySelector("#header-search").style.display=document.querySelector("#header-search").style.display=="none"?"block":"none"'><svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" width="24"><path fill-rule="evenodd" d="M1 2.75A.75.75.0 011.75 2h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 2.75zm0 5A.75.75.0 011.75 7h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 7.75zM1.75 12a.75.75.0 100 1.5h12.5a.75.75.0 100-1.5H1.75z"/></svg></button></div><div style=display:none id=header-search class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex"><div class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to"><div class=position-relative><form target=_blank action=https://www.google.com/search accept-charset=UTF-8 method=get autocomplete=off><label class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center"><input type=text class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable" name=q placeholder=Search autocomplete=off>
<input type=hidden name=q value=site:https://sanchitdilipjain.github.io><div class="js-jump-to-suggestions-container jump-to-suggestions overflow-hidden position-absolute"><div id=search-progress class="d-none color-bg-primary no-underline p-2" role=progress aria-selected=false><div class=loader></div></div><ul id=jump-to-results role=listbox class="Box border-0 p-0 m-0 js-navigation-container jump-to-suggestions-results-container js-jump-to-suggestions-results-container js-active-navigation-container height-limitation"></ul></div></label></form></div></div></div><div class="Header-item Header-item--full flex-justify-center d-md-none position-relative"><a class=Header-link href=https://sanchitdilipjain.github.io><svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" width="32"><path fill-rule="evenodd" d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.013 8.013.0 0016 8c0-4.42-3.58-8-8-8z"/></svg></a></div><div class=Header-item style=margin-right:0><a href=javascript:void(0) class="Header-link no-select" onclick=switchTheme()><svg style="fill:var(--color-profile-color-modes-toggle-moon)" class="no-select" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.52208 7.71754c3.05612.0 5.53362-2.47748 5.53362-5.5336C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961 9.95801 1.07727 10.3495.771159 10.6474.99992c1.4679 1.12724 2.4141 2.90007 2.4141 4.89391.0 3.40575-2.7609 6.16667-6.16665 6.16667-2.94151.0-5.40199-2.0595-6.018122-4.81523C.794841 6.87902 1.23668 6.65289 1.55321 6.85451 2.41106 7.40095 3.4296 7.71754 4.52208 7.71754z"/></svg></a></div></header></div><div><main><div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4"><div class=px-0><div class="mb-3 d-flex px-3 px-md-3 px-lg-5"><div class="flex-auto min-width-0 width-fit mr-3"><div class=d-flex><div class="d-none d-md-block"><a class="avatar mr-2 flex-shrink-0" href=https://sanchitdilipjain.github.io><img class=avatar-user src=https://sanchitdilipjain.github.io/images/avatar.png width=32 height=32></a></div><div class="d-flex flex-column"><h1 class="break-word f3 text-normal mb-md-0 mb-1"><span class=author><a href=https://sanchitdilipjain.github.io>Sanchit Dilip Jain</a></span><span class=path-divider>/</span><strong class="css-truncate-target mr-1" style=max-width:410px><a href=https://sanchitdilipjain.github.io/post/amazon-redshift-data-sharing-part3/>Permissions Management for Amazon Redshift DataShares ðŸ’¡</a></strong></h1><div class="note m-0">Created <relative-time datetime="Sat, 20 May 2023 12:00:00 +0000" class=no-wrap>Sat, 20 May 2023 12:00:00 +0000</relative-time>
<span class=file-info-divider></span>
Modified <relative-time datetime="Mon, 01 Jan 2024 08:26:14 +0000" class=no-wrap>Mon, 01 Jan 2024 08:26:14 +0000</relative-time></div></div></div></div></div></div></div><div class="container-lg px-3 new-discussion-timeline"><div class="repository-content gist-content"><div><div class="js-gist-file-update-container js-task-list-container file-box"><div id=file-pytest class="file my-2"><div id=post-header class="file-header d-flex flex-md-items-center flex-items-start sticky-header" style=z-index:2><div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto"><div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0"><summary id=toc-toggle onclick=clickToc() class="btn btn-octicon m-0 mr-2 p-2"><svg aria-hidden="true" viewBox="0 0 16 16" height="16" width="16" class="octicon octicon-list-unordered"><path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75.0 000 1.5h8.5a.75.75.0 000-1.5h-8.5zm0 5a.75.75.0 000 1.5h8.5a.75.75.0 000-1.5h-8.5zm0 5a.75.75.0 000 1.5h8.5a.75.75.0 000-1.5h-8.5zM3 8A1 1 0 111 8a1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"/></svg></summary><details-menu class=SelectMenu id=toc-details style="display: none;"><div class="SelectMenu-modal rounded-3 mt-1" style=max-height:340px><div class="SelectMenu-list SelectMenu-list--borderless p-2" style=overscroll-behavior:contain id=toc-list></div></div></details-menu>1283 Words
<span class=file-info-divider></span>
6 min</div></div></div><div class="Box-body px-5 pb-5" style=z-index:1><article class="markdown-body entry-content container-lg"><h2 id=permissions-management-for-amazon-redshift-datashares>Permissions Management for Amazon Redshift DataShares</h2><ol><li><p>What is Amazon Redshift Data Sharing?</p><ul><li>Amazon Redshift Data Sharing is a feature that enables Redshift cluster owners to share live data across different Amazon Redshift clusters, accounts, and regions.</li><li>With data sharing, users can easily and securely share data with other Redshift users, without having to copy or move the data.</li></ul></li><li><p>What are Amazon Redshift Data Sharing Benefits?</p><ul><li>Data sharing is a great way to improve your security and performance, as well as save money.<ul><li><strong>Enhanced Security</strong> - By using Amazon Redshift data sharing, you can ensure that only authorized users have access to sensitive data by limiting the number of tables they can access. This helps prevent accidental or malicious disclosure of confidential information during queries and analysis.</li><li><strong>Improved Performance</strong> - Data sharing improves query performance by allowing multiple users with different privileges to access the same table simultaneously without affecting one another&rsquo;s results or causing errors in the query plan generated by SQL queries run against it (for example, if two people were trying to run a join on two distinct tables).</li><li><strong>Cost savings</strong> - Sharing data across accounts and regions can help to reduce data storage costs and eliminate the need to move data.</li></ul></li></ul></li><li><p>Adding/Removing individual objects from DataShares</p><ul><li>As a Producer Cluster administrator retains control of the datasets that are shared, the Administrator can add new objects to or remove them from the datashare.</li><li>Access can also be granted or revoked to datashares as a whole for the consumer clusters, AWS accounts, or AWS Regions.</li><li>When permissions are revoked, consumer clusters immediately lose access to the shared objects and stop seeing them in the list of INBOUND datashares in SVV_DATASHARES</li></ul></li><li><p>Role-based Access control for Amazon Redshift Data SharingHeader anchor link</p><ul><li>On the consumer side, a consumer cluster administrator can determine which users and groups should get access to the shared data.</li><li>An administrator can control access at the database or schema level. To further restrict access, views can be created on top of shared objects, exposing only the necessary data.</li><li>We can then use these views to give access to the users and groups.</li></ul></li><li><p>INCLUDENEW option in Data Sharing</p><ul><li>The INCLUDENEW clause specifies whether to add any future tables, views or SQL UDFs created in a specified schema to the datashare.</li><li>Current tables, views, or SQL UDFs in the specified schema aren&rsquo;t added to the datashare. The default setting is False.</li><li>IncludeNew option should be used with great care. If set to TRUE this will automatically add all the objects created in the future in the specified schema to the datashare automatically.</li><li>This might not be ideal in cases where fine-grained control is required on objects being shared. In such cases, leave the setting to default, which is FALSE.</li></ul></li></ol><p><strong>Demo</strong></p><ul><li><p>Objective:</p><ul><li>In this lab, we will learn how to quickly add/remove objects from datashares as well as implement role-based access control for fine-grained access management</li></ul></li><li><p>Prerequisite</p><ul><li>Complete <a href=https://blog.getsetbuild.cloud/post/amazon-redshift-data-sharing-part2/>Workload Isolation demo using Amazon Redshift Data Sharing lab</a></li><li>Ensure both the clusters <strong>etl-redshift-cluster</strong> and <strong>bi-redshift-cluster</strong> are in a start state.</li></ul></li><li><p>Remove the Order table from DataShare</p><ul><li>Go to Amazon Redshift Console by clicking <a href=https://console.aws.amazon.com/redshiftv2>link</a></li><li>Select <strong>etl-redshift-cluster</strong> under Provisioned Clusters from the Redshift console</li></ul><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image1.png alt></p><ul><li>Select Query Editor V2 to query <strong>etl-redshift-cluster</strong>. Configure Query Editor v2, leave settings as default, and press Configure Account</li></ul><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image2.png alt></p><ul><li>Let&rsquo;s connect to our database by selecting <strong>etl-redshift-cluster</strong>. Select temporary credentials on the list of options and connect using these credentials<ul><li>Database name: dev</li><li>Database user: awsuser</li></ul></li></ul><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image3.png alt></p><ul><li><p>Once connected, run the below command on etl-redshift-cluster to remove the individual object from datashares:</p><p><code>ALTER DATASHARE tpc_share REMOVE TABLE public.orders;</code></p></li></ul><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image4.png alt></p><ul><li><p>Run the below query on the etl-redshift-cluster and confirm that public.orders table is no longer shared:</p><p><code>select * from svv_datashare_objects;</code></p></li></ul><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image5.png alt></p></li><li><p>Add the Orders table to the DataShare</p><ul><li><p>Run the below command to add an individual object to datashares:</p><p><code>ALTER DATASHARE tpc_share Add TABLE public.orders;</code></p><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image6.png alt></p></li><li><p>Run the below query on the etl-redshift-cluster and confirm that public.orders table is added to the date share:</p><p><code>select * from svv_datashare_objects;</code></p><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image7.png alt></p></li></ul></li><li><p>INCLUDENEW option in Data Sharing</p><ul><li><p>Run below SQL to add public schema to tpc_share datashare with INCLUDENEW=TRUE:</p><p><code>ALTER DATASHARE tpc_share SET INCLUDENEW = TRUE for SCHEMA public;</code></p><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image8.png alt></p></li><li><p>View all objects in tpc_share and verify that the include_new option is set to &rsquo;true&rsquo; for public schema:</p><p><code>select * from svv_datashare_objects;</code></p><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image9.png alt></p></li><li><p>Create a dummy table in public schema:</p><p><code>CREATE TABLE public.include_new_true (col1 int, col2 char(1));</code></p><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image10.png alt></p></li><li><p>Verify by querying the svv_datashare_objects table that the dummy table public.include_new_true is added automatically to datashare</p><p><code>select * from svv_datashare_objects;</code></p><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image11.png alt></p></li><li><p>Set INCLUDENEW option to FALSE and confirm that table is not added automatically with the default configuration</p><p><code>ALTER DATASHARE tpc_share SET INCLUDENEW = FALSE for SCHEMA public;</code></p><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image12.png alt></p></li><li><p>Create a dummy table in public schema again and verify this time it is not added to datashare.</p><p><code>CREATE TABLE public.include_new_false (col1 int, col2 char(1))</code></p><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image13.png alt></p></li><li><p>Verify by querying the svv_datashare_objects table that the dummy table public.include_new_fasle is not added automatically to datashare</p><p><code>select * from svv_datashare_objects;</code></p><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image14.png alt></p></li></ul></li><li><p>Role-based Access control for Amazon Redshift Data Sharing - Perform below steps for role based access control:</p><ul><li>Click bi-redshift-cluster under the Amazon Redshift Clusters tab</li></ul><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image15.png alt></p><ul><li>Click on the Datashares tab and Connect to the database under Databases created in my namespace using the following temporary credentials:
Database name: dev
Database user: awsuser</li></ul><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image16.png alt></p><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image17.png alt></p><ul><li><p>Create two roles for two different group of users. Data Analysts wants to have access to all underlying tables shared via data sharing. However, BI users need to run pre-defined reports with limited access.</p><p><code>CREATE ROLE bi_users; CREATE ROLE data_analysts;</code></p><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image18.png alt></p></li><li><p>Create users and assign roles to users respectively using below SQL:</p><p><code>CREATE USER dan PASSWORD 'Redshift123' ; GRANT ROLE data_analysts to dan; CREATE USER sam PASSWORD 'Redshift123'; GRANT ROLE bi_users to sam;</code></p><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image19.png alt></p></li><li><p>Create Views for all the tables shared via data sharing. External tables cannot be added to regular views and therefore create view with no schema binding</p><pre tabindex=0><code>CREATE VIEW supplier_view AS SELECT * FROM tpc.public.supplier WITH NO SCHEMA BINDING;

CREATE VIEW lineitem_view AS SELECT * FROM tpc.public.lineitem WITH NO SCHEMA BINDING;

CREATE VIEW nation_view AS SELECT * FROM tpc.public.nation WITH NO SCHEMA BINDING;

CREATE VIEW orders_view AS SELECT * FROM tpc.public.orders WITH NO SCHEMA BINDING;

CREATE VIEW part_view AS SELECT * FROM tpc.public.part WITH NO SCHEMA BINDING;

CREATE VIEW partsupp_view AS SELECT * FROM tpc.public.partsupp WITH NO SCHEMA BINDING;

CREATE VIEW region_view AS SELECT * FROM tpc.public.region WITH NO SCHEMA BINDING;
</code></pre><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image20.png alt></p></li><li><p>Create View aggregating lineitem data to the supplier level. This data needs to be visible just to BI users.</p><pre tabindex=0><code>CREATE VIEW supplier_shipmode_agg as
    select l_suppkey, l_shipmode, datepart(year, L_SHIPDATE) l_shipyear,
    SUM(L_QUANTITY) TOTAL_QTY,
    SUM(L_DISCOUNT) TOTAL_DISCOUNT,
    SUM(L_TAX) TOTAL_TAX,
    SUM(L_EXTENDEDPRICE) TOTAL_EXTENDEDPRICE
    from tpc.public.lineitem
    group by 1,2,3
    WITH NO SCHEMA BINDING;
</code></pre><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image21.png alt></p></li><li><p>Grant required access on views to data_analysts role.</p><pre tabindex=0><code>    GRANT SELECT ON 
    lineitem_view, nation_view, orders_view, part_view,
    partsupp_view, region_view, supplier_view
    TO ROLE data_analysts;
</code></pre><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image22.png alt></p></li><li><p>Grant required access on supplier_shipmode_agg view to bi_users role.</p><p><code>GRANT SELECT ON supplier_shipmode_agg TO ROLE bi_users;</code></p><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image23.png alt></p></li><li><p>Connect to bi-redshift-cluster using dan credentials. You will need to right click on bi-redshift-cluster and then select Edit connection</p><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image24.png alt></p></li><li><p>Verify that data analysts (dan) can access all 1:1 views and cannot access supplier_shipmode_agg view. Run below query to confirm that data analyst(dan) can access 1:1 views</p><p><code>Select * from nation_view limit 100;</code></p><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image25.png alt></p><p>Run below query to confirm that data analyst(dan) cannot access supplier_shipmode_agg view</p><p><code>Select * from supplier_shipmode_agg limit 100;</code></p><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image26.png alt></p></li><li><p>Connect to bi-redshift-cluster using dan credentials. You will need to right click on bi-redshift-cluster and then select Edit connection</p><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image27.png alt></p></li><li><p>Verify that sam has access to supplier_shipmode_agg view but cannot access 1:1 views. Run below query to confirm that bi_user(sam) can access supplier_shipmode_agg view</p><p><code>Select * from supplier_shipmode_agg limit 100;</code></p><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image28.png alt></p><p>Run below query to confirm that bi_user(sam) cannot access 1:1 views</p><p><code>Select * from nation_view limit 100;</code></p><p><img src=https://sanchitdilipjain.github.io/images/amazon-rs-workload-permission/image29.png alt></p></li></ul></li></ul><p><strong>Resources</strong></p><ul><li>Visit this <a href=https://aws.amazon.com/redshift/features/data-sharing/>page</a> to find the latest documentation.</li></ul></article></div></div></div></div></div><div class=pagination-nav><div class="pagination-button next-post"><div>Â«&nbsp;</div><a class="pagination-link link-reverse" href=https://sanchitdilipjain.github.io/post/amazon-redshift-data-sharing-part4/>Monitoring and Security of Amazon Redshift...</a></div><div class="pagination-button previous-post"><a class="pagination-link link-reverse" href=https://sanchitdilipjain.github.io/post/amazon-redshift-data-sharing-part2/>Perform Workload Isolation using Amazon Redshift...&nbsp;</a><div>Â»</div></div></div></div></main></div><script type=application/javascript src=https://sanchitdilipjain.github.io/js/toc.js></script><link rel=stylesheet href=https://sanchitdilipjain.github.io/css/toc.css><div class="footer container-xl width-full p-responsive"><div class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light"><a aria-label=Homepage title=GitHub class="footer-octicon d-none d-lg-block mr-lg-4" href=https://sanchitdilipjain.github.io><svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" width="24"><path fill-rule="evenodd" d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.013 8.013.0 0016 8c0-4.42-3.58-8-8-8z"/></svg></a><ul class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0"><li class="mr-3 mr-lg-0"></li></ul></div><div class="d-flex flex-justify-center pb-6"><span class="f6 text-gray-light"></span></div></div></body><script type=application/javascript src=https://sanchitdilipjain.github.io/js/github-style.js></script><script src=https://sanchitdilipjain.github.io/js/mark.es6.min.js></script></html>